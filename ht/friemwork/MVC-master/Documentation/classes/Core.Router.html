<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>phpDocumentor » \Core\Router</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">phpDocumentor</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/Core.html"><i class="icon-th"></i> Core</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/MVC.html"><i class="icon-folder-open"></i> MVC</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">23</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">3</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_addRoute" title="addRoute :: Add a new route to the router."><span class="description">Add a new route to the router.</span><pre>addRoute()</pre></a></li>
<li class="method public "><a href="#method_reverse" title="reverse :: Reverse the router."><span class="description">Reverse the router.</span><pre>reverse()</pre></a></li>
<li class="method public "><a href="#method_route" title="route :: Start the routing procedure and find a valid route, if any."><span class="description">Start the routing procedure and find a valid route, if any.</span><pre>route()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul><li class="method private "><a href="#method_routeTest" title="routeTest :: Test to see if this route is valid against the URL."><span class="description">Test to see if this route is valid against the URL.</span><pre>routeTest()</pre></a></li></ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="property private "><a href="#property__routePath" title="$_routePath :: The portion of the request URL that the route has matched."><span class="description"></span><pre>$_routePath</pre></a></li>
<li class="property private "><a href="#property__routes" title="$_routes :: A collection of Route's that have been declared."><span class="description"></span><pre>$_routes</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\Core\Router"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/Core.html">Core</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/Core.Router.html">Router</a>
</li>
</ul>
<div class="element class">
<p class="short_description">Determines which of the supplied routes will be used for the Dispatcher.</p>
<div class="details">
<div class="long_description"><p>If no route is valid then we assume that you are using the default MVC pattern
of /controller/action/my/variables/go/here/foobar. This router matches from
first to last, so if potentially more than one route matches then we will
route to the first declared. This is due to exiting as soon as we locate a
valid route to save processing time. Routes are greedy by default, so place
your more specific routes first.</p>

<p>All routes use the following pattern modifiers:</p>

<ul>
    <li>i: PCRE_CASELESS: matching both uppercase and lowercase.</li>
    <li>u: PCRE_UTF8:     Make strings UTF-8.</li>
</ul>

<p>An example of how to use this class in the index.php is as follows:</p>

<pre><code><?php
// Global configurations
include dirname(__FILE__) . '/../Library/global.php';

// Creae new Router instance
$router = new Core\Router();
$router
    ->addRoute('Foo')
    ->setRoute('foo/:bar/:acme')
    ->setFormat(array(
        'bar'  => '\d+',
        'acme' => '[a-z0-9]+')
    )
    ->setEndpoint(array(
        'controller' => 'Foo',
        'action'     => 'bar')
    );

// Start the application
new Core\Front('MyProject', $router);
</code></pre>

<p>Note: If no regex formats are supplied then we use the default of [\w&#45;]+ (any
alpha numeric character (a-z, 0-9, underscores) and dashes)
for the variable (:var) matching.</p>

<h2>Reverse routing</h2>

<p>URL's will often change. Defining them in a single place (the router) will
save you having to rewrite them in your View Helpers/Partials. It is also
safer because URL encoding will be taken care for you.</p></div>
<table class="table table-bordered">
<tr>
<th>copyright</th>
<td>Copyright (c) 2012-2013 Christopher Hill</td>
</tr>
<tr>
<th>license</th>
<td><a href="http://www.opensource.org/licenses/mit-license.php">The MIT License</a></td>
</tr>
<tr>
<th>author</th>
<td><a href="mailto:cjhill@gmail.com">Christopher Hill</a></td>
</tr>
<tr>
<th>package</th>
<td><a href="../packages/MVC.html">MVC</a></td>
</tr>
<tr>
<th>see</th>
<td><a href="">\Core\/Library/MyProject/View/Helper/Route.php</a></td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method_addRoute"></a><div class="element clickable method public method_addRoute" data-toggle="collapse" data-target=".method_addRoute .collapse">
<h2>Add a new route to the router.</h2>
<pre>addRoute(string $routeName) : \Core\Core\Route</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>access</th>
<td>public</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$routeName</h4>
<code>string</code><p>The name of the route.</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="http://php.net/manual/en/class.invalidargumentexception.php">\InvalidArgumentException</a></code></th>
<td>If the route name has already been declared.</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>\Core\Core\Route</code>The new Route, for chainability.</div>
</div></div>
</div>
<a id="method_reverse"></a><div class="element clickable method public method_reverse" data-toggle="collapse" data-target=".method_reverse .collapse">
<h2>Reverse the router.</h2>
<pre>reverse(string $routeName, array $params) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Make a URL out of a route name and parameters, rather than parsing one.
Note that this function does not care about URL paths!</p></div>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>public</td>
</tr>
<tr>
<th>static</th>
<td></td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$routeName</h4>
<code>string</code><p>The name of the route we wish to generate a URL for.</p></div>
<div class="subelement argument">
<h4>$params</h4>
<code>array</code><p>The parameters that the route requires.</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="http://php.net/manual/en/class.exception.php">\Exception</a></code></th>
<td>If the route does not exist.</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_route"></a><div class="element clickable method public method_route" data-toggle="collapse" data-target=".method_route .collapse">
<h2>Start the routing procedure and find a valid route, if any.</h2>
<pre>route() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>access</th>
<td>public</td>
</tr></table>
</div></div>
</div>
<a id="method_routeTest"></a><div class="element clickable method private method_routeTest" data-toggle="collapse" data-target=".method_routeTest .collapse">
<h2>Test to see if this route is valid against the URL.</h2>
<pre>routeTest(array $requestUrl, \Core\Core\Route $route) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>access</th>
<td>private</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$requestUrl</h4>
<code>array</code><p>The URL to test the route against.</p></div>
<div class="subelement argument">
<h4>$route</h4>
<code>\Core\Core\Route</code><p>A Route declared by the application.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property__routePath"> </a><div class="element clickable property private property__routePath" data-toggle="collapse" data-target=".property__routePath .collapse">
<h2></h2>
<pre>$_routePath : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>access</th>
<td>private</td>
</tr></table>
</div></div>
</div>
<a id="property__routes"> </a><div class="element clickable property private property__routes" data-toggle="collapse" data-target=".property__routes .collapse">
<h2></h2>
<pre>$_routes : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>access</th>
<td>private</td>
</tr>
<tr>
<th>static</th>
<td></td>
</tr>
</table>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a12</a> and<br>
            generated on 2013-12-06T15:14:46Z.<br></footer></div>
</div>
</body>
</html>
